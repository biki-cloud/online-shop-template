# test

優先度の高いテストから実装してください。
頻繁にテストを実行し、エラーが出ないか確認してください。
エラーが出ている場合は修正し、再テストをしてください。
babel は設定項目が複雑になるので使用しないでください。
テスト対象のコードがテストが実行しづらい設計になっている場合はコードを修正してください。
一定のところまで修正し、テストが完了したらストップしてください。

# 画面おしゃれ、細かいところ

## おしゃれ

xxx 画面もホーム画面と同じテイストでおしゃれに実装して
あくまで画面表示をおしゃれにするだけで機能はそのままでお願いします。

## 細かいところ

- カテゴリの導入
- 商品一覧での値段ソート、カテゴリフィルター
- 商品ひとつにつき、複数の写真保持
- お気に入り機能
- ユーザの住所設定
- 商品詳細ページの関連商品表示

管理者が商品を新たに作成したら、ユーザ全員に「商品が追加されました！」の通知ができるように実装していきたい。
何が必要かまとめてくだださい。

ではまず、購読情報のデータベース永続化を実装してください。
これを実装した後にもクライアントの通知機能は動作しますよね？
スキーマは schema.ts です。
supabase ディレクトリはローカルの supabase ディレクトリなので修正しないでください。
まずは永続化の subscription 情報の永続化のリポジトリ、サービス、server actions を実装して。今のアーキテクチャ構成に合うように。

管理者登録のアクセス方法
隠しルート（例：/admin-register）を作成
この URL は運営から直接共有される形式
一般のナビゲーションやサイトマップには表示しない
承認プロセスの簡略化
初期段階では、以下のような軽量な承認フローを実装することをお勧めします：
管理者登録時に自動メール通知を運営チームに送信
承認は既存の管理者が create-admin スクリプトを使用
将来的に必要になった時点で管理画面を実装

- アーキテクチャの名前
  - domain にバリデーションも集めた方がいいかも
- シーケンス図
- setup.ts のリファクタリング

# e2e

E2E を優先度に従って細かく実装してください。
テストの内容は現在の実装を細かく確認して、実装通りの挙動になるように実装してください。
